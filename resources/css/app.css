@import "tailwindcss";

@theme {
    --font-sans: "Manrope", ui-sans-serif, system-ui, sans-serif;
    --color-slate-950: #020617;
}

@layer base {
    :root {
        --sim-shell-bg: #060a18;
        --sim-shell-bg-image: radial-gradient(circle at top left, #1e293b 0%, #0f172a 35%, #020617 100%);
        --sim-card-bg: rgba(15, 23, 42, 0.75);
        --sim-card-border: rgba(51, 65, 85, 0.6);
        --sim-text-main: #f8fafc;
        --sim-text-muted: #94a3b8;
        --sim-accent-primary: #06b6d4;
        /* Cyan 500 */
        --sim-accent-secondary: #6366f1;
        /* Indigo 500 */
        --sim-accent-glow: rgba(6, 182, 212, 0.4);
        --sim-radius-lg: 1rem;
        --sim-radius-md: 0.75rem;
    }
}

@layer components {
    .sim-shell {
        @apply min-h-screen text-slate-100 antialiased;
        background: var(--sim-shell-bg-image);
        background-color: var(--sim-shell-bg);
    }

    /* Glassmorphism Utilities */
    .sim-glass {
        @apply backdrop-blur-md bg-slate-900/60 border border-slate-950;
    }

    .sim-glass-strong {
        @apply backdrop-blur-xl bg-slate-900/80 border border-slate-950;
    }

    /* Cards */
    .sim-card {
        @apply sim-glass rounded-2xl transition-all duration-300;
    }

    .sim-card:hover {
        @apply border-slate-600/40;
    }

    .sim-card-soft {
        @apply rounded-xl border border-slate-950 bg-slate-800/20 transition-colors;
    }

    /* Text */
    .sim-section-title {
        @apply text-xs font-bold uppercase tracking-[0.15em] text-cyan-500/80 mb-3;
    }

    .sim-label {
        @apply block text-xs font-semibold uppercase tracking-wider text-slate-400 mb-1.5;
    }

    /* Inputs */
    .sim-input,
    .sim-select,
    .sim-textarea {
        @apply w-full rounded-xl border border-slate-800/40 bg-slate-950/60 px-4 py-2.5 text-sm text-slate-100 placeholder:text-slate-700 focus:border-cyan-500/40 focus:bg-slate-950/80 focus:outline-none focus:ring-4 focus:ring-cyan-500/5 transition-all;
    }

    /* Buttons */
    .sim-btn-primary {
        @apply inline-flex items-center justify-center rounded-lg bg-gradient-to-r from-cyan-500 to-indigo-600 px-5 py-2.5 text-sm font-bold text-white shadow-lg shadow-cyan-500/25 transition-all hover:brightness-110 hover:shadow-cyan-500/40 active:scale-95 disabled:opacity-50 disabled:pointer-events-none;
    }

    .sim-btn-muted {
        @apply inline-flex items-center justify-center rounded-lg border border-slate-700/60 bg-slate-800/40 px-5 py-2.5 text-sm font-semibold text-slate-300 transition-all hover:bg-slate-800 hover:text-white hover:border-slate-600 active:bg-slate-700;
    }

    .sim-btn-danger {
        @apply inline-flex items-center justify-center rounded-lg border border-rose-500/30 bg-rose-500/10 px-5 py-2.5 text-sm font-semibold text-rose-400 transition-all hover:bg-rose-500/20 hover:text-rose-300 hover:border-rose-500/50;
    }

    /* Navigation */
    .sim-nav-item {
        @apply flex items-center justify-between rounded-lg px-4 py-3 text-sm font-medium text-slate-400 transition-all hover:bg-slate-800/50 hover:text-slate-100;
    }

    .sim-nav-item-active {
        @apply bg-slate-800/80 text-cyan-400 font-semibold shadow-inner shadow-cyan-500/5 border-l-2 border-cyan-500;
    }

    /* Elements */
    .sim-pill {
        @apply inline-flex items-center rounded-full border border-slate-700/50 bg-slate-800/40 px-2.5 py-0.5 text-xs font-semibold text-slate-300;
    }

    .sim-switch {
        @apply inline-flex items-center gap-3 cursor-pointer select-none;
    }

    .sim-switch-track {
        @apply relative w-11 h-6 bg-slate-800 rounded-full border border-slate-600 transition-colors duration-200;
    }

    .sim-switch-track::after {
        content: "";
        @apply absolute top-1 left-1 bg-slate-400 w-3.5 h-3.5 rounded-full transition-transform duration-200 shadow-sm;
    }

    .sim-switch input:checked+.sim-switch-track {
        @apply bg-cyan-900/50 border-cyan-500/50;
    }

    .sim-switch input:checked+.sim-switch-track::after {
        @apply translate-x-5 bg-cyan-400 shadow-lg shadow-cyan-400/40;
    }

    /* Tables */
    .sim-table th {
        @apply px-4 py-3 text-left text-xs font-bold uppercase tracking-wider text-slate-500 border-b border-slate-800;
    }

    .sim-table td {
        @apply px-4 py-3 text-sm text-slate-300 border-b border-slate-800/50;
    }

    .sim-table tr:hover td {
        @apply bg-slate-800/30;
    }

    /* Pitch & Lineup Editor Styles */
    .sim-pitch {
        @apply relative overflow-hidden rounded-xl shadow-2xl;
        border: 2px solid rgba(255, 255, 255, 0.18);
        background:
            /* Subtle vignette for depth */
            radial-gradient(ellipse at 50% 50%, transparent 50%, rgba(0, 0, 0, 0.3) 100%),
            /* ── Grass stripe pattern ── */
            repeating-linear-gradient(to bottom,
                rgba(34, 120, 50, 0.95) 0,
                rgba(34, 120, 50, 0.95) 10%,
                rgba(28, 105, 42, 0.95) 10%,
                rgba(28, 105, 42, 0.95) 20%);
        aspect-ratio: 3/4;
    }

    @media (min-width: 1024px) {
        .sim-pitch {
            aspect-ratio: 4/3;
        }
    }

    .sim-pitch-canvas {
        @apply absolute inset-0 w-full h-full;
        z-index: 2;
    }

    .sim-pitch-slot {
        @apply absolute flex flex-col items-center justify-center p-1 -translate-x-1/2 -translate-y-1/2 w-24 transition-all duration-300 z-10;
    }

    .sim-bench-slot {
        @apply relative flex flex-col items-center justify-center p-2 rounded-xl border border-dashed border-slate-700/50 bg-slate-900/30 min-h-[100px] transition-all duration-200;
    }

    /* Slot Visualization */
    .sim-slot-ring {
        @apply relative w-12 h-12 rounded-full flex items-center justify-center transition-all duration-500;
        background: radial-gradient(circle, rgba(6, 182, 212, 0.05) 0%, transparent 70%);
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
    }

    .sim-slot-ring::before {
        content: "";
        @apply absolute inset-0 rounded-full border border-slate-700/40 transition-all duration-500;
    }

    /* States for the ring based on container classes */
    .sim-slot-state-primary .sim-slot-ring::before {
        @apply border-emerald-500/40;
        box-shadow: inset 0 0 10px rgba(16, 185, 129, 0.1);
    }

    .sim-slot-state-secondary .sim-slot-ring::before {
        @apply border-amber-500/40;
    }

    .sim-slot-state-wrong .sim-slot-ring::before {
        @apply border-rose-500/40;
    }

    .sim-pitch-slot:hover .sim-slot-ring {
        @apply scale-110;
        background: radial-gradient(circle, rgba(6, 182, 212, 0.1) 0%, transparent 70%);
    }

    .sim-pitch-slot:hover .sim-slot-ring::before {
        @apply border-cyan-500/40;
    }

    .sim-slot-player {
        @apply relative w-full flex flex-col items-center cursor-grab active:cursor-grabbing z-20;
    }

    .sim-slot-jersey {
        @apply w-10 h-10 rounded-full bg-slate-800 border-2 border-slate-600 flex items-center justify-center text-xs font-bold text-white shadow-lg transition-all;
    }

    .sim-slot-info {
        @apply mt-1 text-center bg-slate-900/90 backdrop-blur-sm px-2 py-0.5 rounded text-[10px] font-bold text-slate-200 shadow-sm border border-slate-700/50 truncate max-w-full;
    }

    /* Dragging States */
    .sim-slot-drop-hover {
        @apply border-cyan-500/50 bg-cyan-500/10 scale-105;
    }

    .sim-player-card-dragging {
        @apply opacity-50 scale-95;
    }

    /* Match Fidelity */
    .sim-slot-state-primary .sim-slot-jersey {
        @apply border-emerald-500 bg-emerald-500/20 text-emerald-300 shadow-[0_0_10px_#10b98166];
    }

    .sim-slot-state-secondary .sim-slot-jersey {
        @apply border-amber-500 bg-amber-500/20 text-amber-300;
    }

    .sim-slot-state-wrong .sim-slot-jersey {
        @apply border-rose-500 bg-rose-500/20 text-rose-300;
    }

    .sim-pitch-slot-label {
        @apply absolute -top-4 text-[10px] font-bold text-slate-500 uppercase tracking-wider pointer-events-none;
    }

    /* Player Card in Pool */
    .sim-player-card {
        @apply cursor-grab active:cursor-grabbing hover:bg-slate-700/40 hover:border-slate-600/60;
    }

    .sim-player-card-active {
        @apply opacity-50 bg-slate-900/20 border-slate-800/50 grayscale-[0.5];
    }

    /* Avatars */
    .sim-avatar {
        @apply inline-block h-8 w-8 rounded-full object-cover ring-2 ring-slate-800 bg-slate-800;
    }

    .sim-avatar-xs {
        @apply h-6 w-6 ring-1 text-xs;
    }

    .sim-avatar-sm {
        @apply h-8 w-8 ring-1 text-xs;
    }

    .sim-avatar-md {
        @apply h-10 w-10 md:h-12 md:w-12 text-sm;
    }

    .sim-avatar-lg {
        @apply h-10 w-10 md:h-12 md:w-12 ring-2 bg-slate-900 ring-slate-700/50 p-1 shadow-lg;
    }

    .sim-avatar-xl {
        @apply h-14 w-14 md:h-16 md:w-16 ring-4 bg-slate-900 ring-slate-700/50 p-2 shadow-lg;
    }

    @keyframes flash {

        0%,
        100% {
            opacity: 1;
        }

        50% {
            opacity: 0.5;
        }
    }

    .animate-flash {
        animation: flash 1s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }
}